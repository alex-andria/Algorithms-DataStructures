//See add_up_to_slower and add_up_to_faster